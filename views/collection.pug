extends layout 
block layout-content
  include header 

  h1 Developer Collection

  div.accordion(id="devs-container")
    if users && users.length > 0
      each user, index in users
        if user.profile
          div.accordion-item
            h2.accordion-header(id=`heading${index}`)
              button.accordion-button.collapsed(type="button" data-bs-toggle="collapse" data-bs-target=`#collapse${index}` aria-expanded="false" aria-controls=`collapse${index}`)= `${user.profile.name} | ${user.profile.yearsExperience} years Experience | ${user.profile.languages.join(', ')}`
            div.accordion-collapse.collapse(id=`collapse${index}` aria-labelledby=`heading${index}` data-bs-parent="#devs-container" style="")
              div.accordion-body
                strong About Developer: 
                = user.profile.about || 'N/A'
                br
                strong Frameworks/Libraries: 
                = user.profile.frameworksAndLibraries ? user.profile.frameworksAndLibraries.join(', ') : 'N/A'
                br
                strong Preferences: 
                = user.profile.preferences ? user.profile.preferences.join(', ') : 'N/A'
                br
                strong Links: 
                = user.profile.links || user.profile.links.length > 0 ? user.profile.links.join(', ') : 'Not provided'
                br
                strong Email: 
                = user.profile.email || 'Not provided'
                br
                strong Phone: 
                = user.profile.phone || 'Not provided'

    else
      p No developers found in the database.

  include footer